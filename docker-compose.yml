version: '3'
services:
  insurance_env:
    network_mode: host
    image: kwhadocker/insurance-requirements:latest
    environment:
      - USER
    ports:
      # Jupyter default port
      - "8888:8888"
      # Postgres default port
      - "5432:5432"
    # Modify any of the below host paths if your corresponding files are not in ~/
    # HOST_PATH:CONTAINER_PATH
    volumes:
      # Jupyter notebook password and config files
      - ~/.jupyter:/root/.jupyter
      # Insurance workspace for input files
      - ~/insurance-workspace:/root/insurance-workspace
      # Insurance and marvin codebases
      - ~/insurance/:/root/insurance
      # SSH agent to access VPN
      - ~/.ssh:/root/.ssh
      # Git permissions
      - ~/.gitconfig:/root/.gitconfig
      # Jupyter pem keys for remote
      - /etc/jupyter-kwha-cert:/etc/jupyter-kwha-cert
    # Allows for interactive sessions
    tty: true #
